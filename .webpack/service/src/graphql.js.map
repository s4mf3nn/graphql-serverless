{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/api/launches.js","webpack:///./src/api/rockets.js","webpack:///./src/graphql.js","webpack:///./src/libs/dynamodb.js","webpack:///./src/repositories/users.js","webpack:///./src/resolvers/index.js","webpack:///./src/resolvers/launches.js","webpack:///./src/resolvers/rockets.js","webpack:///./src/resolvers/users.js","webpack:///./src/schema/index.js","webpack:///./src/schema/launches.js","webpack:///./src/schema/rockets.js","webpack:///./src/schema/users.js","webpack:///./src/services/users.js","webpack:///external \"@graphql-tools/merge\"","webpack:///external \"apollo-server-lambda\"","webpack:///external \"aws-sdk\"","webpack:///external \"axios\""],"names":["axios","require","getAllLaunches","response","get","data","map","launch","launchReducer","error","console","log","message","getLaunch","id","flight_number","mission","mission_name","year","launch_year","date","launch_date_local","success","launch_success","rocket","rocket_id","name","rocket_name","type","rocket_type","module","exports","getAllRockets","rocketReducer","getRocket","ApolloServer","typeDefs","resolvers","server","debug","main","createHandler","event","context","callback","callbackFilter","output","headers","AWS","config","update","region","process","env","awsRegion","call","action","params","IS_OFFLINE","dynamoDb","DynamoDB","DocumentClient","endpoint","promise","usersTable","followersTable","getAllUsers","results","dynamoDbLib","TableName","ScanIndexForward","Items","getUser","userId","Key","result","e","getFollowing","IndexName","KeyConditionExpression","ExpressionAttributeValues","getFollowers","mergeResolvers","launches","rockets","users","Query","_","User","following","followers","mergeTypeDefs","all","gql","usersRepo","userRepo","followingRepo","followersRepo","resUser","parent","followingList","user","follower","push","followersList"],"mappings":"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","file":"src/graphql.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/graphql.js\");\n","const axios = require(\"axios\");\r\n\r\nasync function getAllLaunches() {\r\n  try {\r\n    const response = await axios.get(\"https://api.spacexdata.com/v3/launches\");\r\n    return response.data.map((launch) => launchReducer(launch));\r\n  } catch (error) {\r\n    console.log(\"ERROR : \", error.message);\r\n    return error;\r\n  }\r\n}\r\n\r\nasync function getLaunch({ id }) {\r\n  try {\r\n    const response = await axios.get(\r\n      \"https://api.spacexdata.com/v3/launches/\" + id\r\n    );\r\n    return launchReducer(response.data);\r\n  } catch (error) {\r\n    console.log(\"ERROR : \", error.message);\r\n    return error;\r\n  }\r\n}\r\n\r\nfunction launchReducer(launch) {\r\n  return {\r\n    id: launch.flight_number || 0,\r\n    mission: launch.mission_name,\r\n    year: launch.launch_year,\r\n    date: launch.launch_date_local,\r\n    success: launch.launch_success,\r\n    rocket: {\r\n      id: launch.rocket.rocket_id,\r\n      name: launch.rocket.rocket_name,\r\n      type: launch.rocket.rocket_type,\r\n    },\r\n  };\r\n}\r\n\r\nmodule.exports = {\r\n  getAllLaunches,\r\n  getLaunch,\r\n};\r\n","const axios = require(\"axios\");\r\n\r\nasync function getAllRockets() {\r\n  try {\r\n    const response = await axios.get(\"https://api.spacexdata.com/v3/rockets\");\r\n    return response.data.map((rocket) => rocketReducer(rocket));\r\n  } catch (error) {\r\n    console.log(\"ERROR : \", error.message);\r\n    return error;\r\n  }\r\n}\r\n\r\nasync function getRocket({ id }) {\r\n  try {\r\n    const response = await axios.get(\r\n      \"https://api.spacexdata.com/v3/rockets/\" + id\r\n    );\r\n    return rocketReducer(response.data);\r\n  } catch (error) {\r\n    console.log(\"ERROR : \", error.message);\r\n    return error;\r\n  }\r\n}\r\n\r\nfunction rocketReducer(rocket) {\r\n  return {\r\n    id: rocket.rocket_id || 0,\r\n    name: rocket.rocket_name,\r\n    type: rocket.rocket_type,\r\n  };\r\n}\r\n\r\nmodule.exports = {\r\n  getAllRockets,\r\n  getRocket,\r\n};\r\n","const { ApolloServer } = require(\"apollo-server-lambda\");\r\n\r\nconst typeDefs = require(\"./schema\");\r\nconst resolvers = require(\"./resolvers\");\r\n\r\nconst server = new ApolloServer({\r\n  debug: false,\r\n  typeDefs,\r\n  resolvers,\r\n});\r\n\r\nconst main = server.createHandler();\r\n\r\nmodule.exports.main = (event, context, callback) => {\r\n  function callbackFilter(error, output) {\r\n    output.headers[\"Access-Control-Allow-Origin\"] = \"*\";\r\n    callback(error, output);\r\n  }\r\n\r\n  main(event, context, callbackFilter);\r\n};\r\n","const AWS = require(\"aws-sdk\");\r\n\r\nAWS.config.update({ region: process.env.awsRegion });\r\n\r\nconst call = (action, params) => {\r\n  if (process.env.IS_OFFLINE === \"true\") {\r\n    const dynamoDb = new AWS.DynamoDB.DocumentClient({\r\n      region: \"localhost\",\r\n      endpoint: \"http://localhost:8080\",\r\n    });\r\n    return dynamoDb[action](params).promise();\r\n  } else {\r\n    const dynamoDb = new AWS.DynamoDB.DocumentClient();\r\n    return dynamoDb[action](params).promise();\r\n  }\r\n};\r\n\r\nmodule.exports = {\r\n  call,\r\n};\r\n","import * as dynamoDbLib from \"../libs/dynamodb\";\r\nconst usersTable = process.env.usersTable;\r\nconst followersTable = process.env.followersTable;\r\n\r\nexport async function getAllUsers() {\r\n  const results = await dynamoDbLib.call(\"scan\", {\r\n    TableName: usersTable,\r\n    ScanIndexForward: false,\r\n  });\r\n  return results.Items;\r\n}\r\n\r\nexport async function getUser(userId) {\r\n  const params = {\r\n    TableName: usersTable,\r\n    Key: {\r\n      id: userId,\r\n    },\r\n  };\r\n  try {\r\n    const result = await dynamoDbLib.call(\"get\", params);\r\n    return result.Items;\r\n  } catch (e) {\r\n    console.log(e);\r\n  }\r\n}\r\n\r\nexport async function getFollowing(id) {\r\n  const params = {\r\n    TableName: followersTable,\r\n    IndexName: \"followingIndex\",\r\n    KeyConditionExpression: \"following = :following\",\r\n    ExpressionAttributeValues: {\r\n      \":following\": id,\r\n    },\r\n  };\r\n  try {\r\n    const result = await dynamoDbLib.call(\"query\", params);\r\n    return result.Items;\r\n  } catch (e) {\r\n    console.log(e);\r\n  }\r\n}\r\n\r\nexport async function getFollowers(id) {\r\n  const params = {\r\n    TableName: followersTable,\r\n    IndexName: \"followerIndex\",\r\n    ExpressionAttributeValues: {\r\n      \":follower\": id,\r\n    },\r\n    KeyConditionExpression: \"follower = :follower\",\r\n  };\r\n  try {\r\n    const result = await dynamoDbLib.call(\"query\", params);\r\n    return result.Items;\r\n  } catch (e) {\r\n    console.log(e);\r\n  }\r\n}\r\n","const { mergeResolvers } = require(\"@graphql-tools/merge\");\r\nconst launches = require(\"./launches\");\r\nconst rockets = require(\"./rockets\");\r\nconst users = require(\"./users\");\r\n\r\nconst resolvers = [launches, rockets, users];\r\n\r\nmodule.exports = mergeResolvers(resolvers);\r\n","const { getAllLaunches, getLaunch } = require(\"../api/launches\");\r\n\r\nmodule.exports = {\r\n  Query: {\r\n    getAllLaunches: () => getAllLaunches(),\r\n    getLaunch: (_, { id }) => getLaunch({ id: id }),\r\n  },\r\n};\r\n","const { getAllRockets, getRocket } = require(\"../api/rockets\");\r\n\r\nmodule.exports = {\r\n  Query: {\r\n    getAllRockets: () => getAllRockets(),\r\n    getRocket: (_, { id }) => getRocket({ id: id }),\r\n  },\r\n};\r\n","const {\r\n  getAllUsers,\r\n  getFollowing,\r\n  getFollowers,\r\n} = require(\"../services/users\");\r\n\r\nmodule.exports = {\r\n  Query: {\r\n    getAllUsers: () => getAllUsers(),\r\n  },\r\n  User: {\r\n    following: (getAllUsers) => getFollowing(getAllUsers),\r\n    followers: (getAllUsers) => getFollowers(getAllUsers),\r\n  },\r\n};\r\n","const { mergeTypeDefs } = require(\"@graphql-tools/merge\");\r\nconst launches = require(\"./launches\");\r\nconst rockets = require(\"./rockets\");\r\nconst users = require(\"./users\");\r\n\r\nconst typeDefs = [launches, rockets, users];\r\n\r\nmodule.exports = mergeTypeDefs(typeDefs, { all: true });\r\n","const { gql } = require(\"apollo-server-lambda\");\r\n\r\nconst typeDefs = gql`\r\n  type Launch {\r\n    id: ID!\r\n    mission: String!\r\n    year: String!\r\n    date: String!\r\n    success: Boolean\r\n    rocket: Rocket!\r\n  }\r\n  type Query {\r\n    getAllLaunches: [Launch]!\r\n    getLaunch(id: ID!): Launch!\r\n  }\r\n`;\r\n\r\nmodule.exports = typeDefs;\r\n","const { gql } = require(\"apollo-server-lambda\");\r\n\r\nconst typeDefs = gql`\r\n  type Rocket {\r\n    id: ID!\r\n    name: String!\r\n    type: String!\r\n  }\r\n  type Query {\r\n    getAllRockets: [Rocket]!\r\n    getRocket(id: ID!): Rocket!\r\n  }\r\n`;\r\n\r\nmodule.exports = typeDefs;\r\n","const { gql } = require(\"apollo-server-lambda\");\r\n\r\nconst typeDefs = gql`\r\n  type User {\r\n    id: ID!\r\n    email: String!\r\n    following: [User]!\r\n    followers: [User]!\r\n  }\r\n\r\n  type Query {\r\n    getAllUsers: [User!]!\r\n    following: [User]!\r\n    followers: [User]!\r\n  }\r\n`;\r\n\r\nmodule.exports = typeDefs;\r\n","const {\r\n  getAllUsers: usersRepo,\r\n  getUser: userRepo,\r\n  getFollowing: followingRepo,\r\n  getFollowers: followersRepo,\r\n} = require(\"../repositories/users\");\r\n\r\nasync function getAllUsers() {\r\n  try {\r\n    const resUser = await usersRepo();\r\n    return resUser;\r\n  } catch (e) {\r\n    console.log(\"ERROR : \", e.message);\r\n    return e.message;\r\n  }\r\n}\r\n\r\nasync function getUser(userId) {\r\n  try {\r\n    const resUser = await userRepo(userId);\r\n    return resUser;\r\n  } catch (e) {\r\n    console.log(\"ERROR : \", e.message);\r\n    return e.message;\r\n  }\r\n}\r\n\r\nasync function getFollowing(parent) {\r\n  const followingList = [];\r\n  try {\r\n    const following = await followingRepo(parent.id);\r\n    if (!following) {\r\n      return followingList;\r\n    }\r\n    // TODO Faire un getBatchItem\r\n    following.map((following) => {\r\n      const user = getUser(following.follower);\r\n      followingList.push(user);\r\n    });\r\n    return followingList;\r\n  } catch (e) {\r\n    console.log(\"ERROR : \", e.message);\r\n    return e.message;\r\n  }\r\n}\r\n\r\nasync function getFollowers(parent) {\r\n  const followersList = [];\r\n  try {\r\n    const followers = await followersRepo(parent.id);\r\n    if (!followers) {\r\n      return followersList;\r\n    }\r\n    // TODO Faire un getBatchItem\r\n    followers.map((follower) => {\r\n      const user = getUser(follower.following);\r\n      followersList.push(user);\r\n    });\r\n    return followersList;\r\n  } catch (e) {\r\n    console.log(\"ERROR : \", e.message);\r\n    return e.message;\r\n  }\r\n}\r\nmodule.exports = {\r\n  getAllUsers,\r\n  getUser,\r\n  getFollowing,\r\n  getFollowers,\r\n};\r\n","module.exports = require(\"@graphql-tools/merge\");","module.exports = require(\"apollo-server-lambda\");","module.exports = require(\"aws-sdk\");","module.exports = require(\"axios\");"],"sourceRoot":""}