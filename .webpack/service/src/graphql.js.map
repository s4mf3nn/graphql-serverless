{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/api/launches.js","webpack:///./src/api/rockets.js","webpack:///./src/graphql.js","webpack:///./src/libs/dynamodb.js","webpack:///./src/repositories/followers/followers.js","webpack:///./src/repositories/users/createUser.js","webpack:///./src/repositories/users/getAllUsers.js","webpack:///./src/repositories/users/getUser.js","webpack:///./src/services/followers/getAllFollowers.js","webpack:///./src/services/followers/getAllFollowing.js","webpack:///./src/services/users/createUser.js","webpack:///./src/services/users/getAllUsers.js","webpack:///./src/services/users/getUser.js","webpack:///./src/types/resolvers/index.js","webpack:///./src/types/resolvers/launches.js","webpack:///./src/types/resolvers/rockets.js","webpack:///./src/types/resolvers/users.js","webpack:///./src/types/schema/index.js","webpack:///./src/types/schema/launches.js","webpack:///./src/types/schema/rockets.js","webpack:///./src/types/schema/users.js","webpack:///external \"@graphql-tools/merge\"","webpack:///external \"@hapi/joi\"","webpack:///external \"apollo-server-lambda\"","webpack:///external \"aws-sdk\"","webpack:///external \"axios\"","webpack:///external \"uuidv4\""],"names":["getAllLaunches","response","axios","get","data","map","launch","launchReducer","error","console","log","message","getLaunch","id","flight_number","mission","mission_name","year","launch_year","date","launch_date_local","success","launch_success","rocket","rocket_id","name","rocket_name","type","rocket_type","getAllRockets","rocketReducer","getRocket","server","ApolloServer","debug","typeDefs","resolvers","main","createHandler","exports","event","context","callback","callbackFilter","output","headers","AWS","config","update","region","process","env","awsRegion","call","action","params","IS_OFFLINE","dynamoDb","DynamoDB","DocumentClient","endpoint","promise","followersTable","getFollowing","TableName","IndexName","KeyConditionExpression","ExpressionAttributeValues","result","dynamoDbLib","Items","e","ApolloError","getFollowers","usersTable","createUser","Item","ConditionExpression","getAllUsers","ScanIndexForward","results","getUser","userId","Key","repo","folowersRepo","usersRepo","getAllFollowers","root","followers","followersList","item","user","following","push","getAllFollowing","followingList","follower","userValidator","schema","Joi","object","string","required","email","gender","valid","validate","args","uuid","users","mergeResolvers","require","launches","rockets","module","Query","_","User","Mutation","mergeTypeDefs","all","gql"],"mappings":"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","file":"src/graphql.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/graphql.js\");\n","import axios from \"axios\";\n\nexport async function getAllLaunches() {\n  try {\n    const response = await axios.get(\"https://api.spacexdata.com/v3/launches\");\n    return response.data.map((launch) => launchReducer(launch));\n  } catch (error) {\n    console.log(\"ERROR : \", error.message);\n    return error;\n  }\n}\n\nexport async function getLaunch({ id }) {\n  try {\n    const response = await axios.get(\n      \"https://api.spacexdata.com/v3/launches/\" + id\n    );\n    return launchReducer(response.data);\n  } catch (error) {\n    console.log(\"ERROR : \", error.message);\n    return error;\n  }\n}\n\nfunction launchReducer(launch) {\n  return {\n    id: launch.flight_number || 0,\n    mission: launch.mission_name,\n    year: launch.launch_year,\n    date: launch.launch_date_local,\n    success: launch.launch_success,\n    rocket: {\n      id: launch.rocket.rocket_id,\n      name: launch.rocket.rocket_name,\n      type: launch.rocket.rocket_type,\n    },\n  };\n}","import axios from \"axios\";\n\nexport async function getAllRockets() {\n  try {\n    const response = await axios.get(\"https://api.spacexdata.com/v3/rockets\");\n    return response.data.map((rocket) => rocketReducer(rocket));\n  } catch (error) {\n    console.log(\"ERROR : \", error.message);\n    return error;\n  }\n}\n\nexport async function getRocket({ id }) {\n  try {\n    const response = await axios.get(\n      \"https://api.spacexdata.com/v3/rockets/\" + id\n    );\n    return rocketReducer(response.data);\n  } catch (error) {\n    console.log(\"ERROR : \", error.message);\n    return error;\n  }\n}\n\nfunction rocketReducer(rocket) {\n  return {\n    id: rocket.rocket_id || 0,\n    name: rocket.rocket_name,\n    type: rocket.rocket_type,\n  };\n}\n","import { ApolloServer } from \"apollo-server-lambda\";\nimport typeDefs from \"./types/schema\";\nimport resolvers from \"./types/resolvers\";\n\nconst server = new ApolloServer({ debug: false, typeDefs, resolvers });\n\nconst main = server.createHandler();\n\nexports.main = (event, context, callback) => {\n  function callbackFilter(error, output) {\n    output.headers[\"Access-Control-Allow-Origin\"] = \"*\";\n    callback(error, output);\n  }\n  main(event, context, callbackFilter);\n};\n","import AWS from \"aws-sdk\";\n\nAWS.config.update({ region: process.env.awsRegion });\n\nexport const call = (action, params) => {\n  if (process.env.IS_OFFLINE === \"true\") {\n    const dynamoDb = new AWS.DynamoDB.DocumentClient({\n      region: \"localhost\",\n      endpoint: \"http://localhost:8080\",\n    });\n    return dynamoDb[action](params).promise();\n  } else {\n    const dynamoDb = new AWS.DynamoDB.DocumentClient();\n    return dynamoDb[action](params).promise();\n  }\n};","import * as dynamoDbLib from \"../../libs/dynamodb\";\nimport { ApolloError } from \"apollo-server-lambda\";\n\nconst followersTable = process.env.followersTable;\n\nexport async function getFollowing(id) {\n  const params = {\n    TableName: followersTable,\n    IndexName: \"followingIndex\",\n    KeyConditionExpression: \"following = :following\",\n    ExpressionAttributeValues: {\n      \":following\": id,\n    },\n  };\n\n  try {\n    const result = await dynamoDbLib.call(\"query\", params);\n    return result.Items;\n  } catch (e) {\n    console.log(e);\n    return new ApolloError(e, 500);\n  }\n}\n\nexport async function getFollowers(id) {\n  const params = {\n    TableName: followersTable,\n    IndexName: \"followerIndex\",\n    ExpressionAttributeValues: {\n      \":follower\": id,\n    },\n    KeyConditionExpression: \"follower = :follower\",\n  };\n\n  try {\n    const result = await dynamoDbLib.call(\"query\", params);\n    return result.Items;\n  } catch (e) {\n    console.log(e);\n    return new ApolloError(e, 500);\n  }\n}\n","import * as dynamoDbLib from \"../../libs/dynamodb\";\nimport { ApolloError } from \"apollo-server-lambda\";\n\nconst usersTable = process.env.usersTable;\n\nexport async function createUser(data) {\n  const params = {\n    TableName: usersTable,\n    Item: data,\n    ConditionExpression: \"attribute_not_exists(externalId)\"\n  };\n\n  try {\n    await dynamoDbLib.call(\"put\", params);\n    return data;\n  } catch (e) {\n    console.log(e);\n    return new ApolloError(e, 500);\n  }\n}","import * as dynamoDbLib from \"../../libs/dynamodb\";\nimport { ApolloError } from \"apollo-server-lambda\";\n\nconst usersTable = process.env.usersTable;\n\nexport async function getAllUsers() {\n  const params = {\n    TableName: usersTable,\n    ScanIndexForward: false,\n  };\n\n  try {\n    const results = await dynamoDbLib.call(\"scan\", params);\n    return results.Items;\n  } catch (e) {\n    console.log(e);\n    return new ApolloError(e, 500);\n  }\n}","import * as dynamoDbLib from \"../../libs/dynamodb\";\nimport { ApolloError } from \"apollo-server-lambda\";\n\nconst usersTable = process.env.usersTable;\n\nexport async function getUser(userId) {\n  const params = {\n    TableName: usersTable,\n    Key: {\n      id: userId,\n    },\n  };\n  try {\n    const result = await dynamoDbLib.call(\"get\", params);\n    return result.Item;\n  } catch (e) {\n    console.log(e);\n    return new ApolloError(e, 500);\n  }\n}","import * as folowersRepo from \"../../repositories/followers/followers\";\nimport * as usersRepo from \"../../repositories/users/getUser\";\nconst repo = { ...folowersRepo, ...usersRepo };\n\nexport const getAllFollowers = async (root) => {\n  const followers = await repo.getFollowers(root.id);\n  if (!followers) return;\n\n  const followersList = [];\n  followers.map(item => {\n    const user = repo.getUser(item.following);\n    followersList.push(user);\n  });\n\n  return followersList;\n}","import * as folowersRepo from \"../../repositories/followers/followers\";\nimport * as usersRepo from \"../../repositories/users/getUser\";\nconst repo = { ...folowersRepo, ...usersRepo };\n\nexport const getAllFollowing = async (root) => {\n  const following = await repo.getFollowing(root.id);\n  if (!following) return;\n\n  const followingList = [];\n  following.map(item => {\n    const user = repo.getUser(item.follower);\n    followingList.push(user);\n  });\n\n  return followingList;\n}","import Joi from \"@hapi/joi\";\nimport { uuid } from 'uuidv4';\nimport { ApolloError } from \"apollo-server-lambda\";\nimport * as repo from \"../../repositories/users/createUser\";\n\nconst userValidator = async (data) => {\n  const schema = Joi.object({\n    name: Joi.string().required(),\n    email: Joi.string().email().required(),\n    gender: Joi.string().valid(\"male\", \"female\").required()\n  })\n\n  const { error } = schema.validate(data);\n  if (error) throw new ApolloError(error, 400);\n}\n\nexport async function createUser(args) {\n  await userValidator(args);\n  args.id = uuid();\n  const user = await repo.createUser(args);\n  return user;\n}","import { ApolloError } from \"apollo-server-lambda\";\nimport * as repo from \"../../repositories/users/getAllUsers\";\n\nexport async function getAllUsers() {\n  const users = await repo.getAllUsers();\n  if (!users) throw new ApolloError(\"Users not found\", 404);\n  return users;\n}","import { ApolloError } from \"apollo-server-lambda\";\nimport * as repo from \"../../repositories/users/getUser\";\n\nexport async function getUser(userId) {\n  const user = await repo.getUser(userId);\n  if (!user) throw new ApolloError(\"User not found\", 404);\n  return user;\n}","const { mergeResolvers } = require(\"@graphql-tools/merge\");\nconst launches = require(\"./launches\");\nconst rockets = require(\"./rockets\");\nconst users = require(\"./users\");\n\nconst resolvers = [launches, rockets, users];\n\nmodule.exports = mergeResolvers(resolvers);\n","const { getAllLaunches, getLaunch } = require(\"../../api/launches\");\n\nmodule.exports = {\n  Query: {\n    getAllLaunches: () => getAllLaunches(),\n    getLaunch: (_, { id }) => getLaunch({ id: id }),\n  },\n};\n","const { getAllRockets, getRocket } = require(\"../../api/rockets\");\n\nmodule.exports = {\n  Query: {\n    getAllRockets: () => getAllRockets(),\n    getRocket: (_, { id }) => getRocket({ id: id }),\n  },\n};\n","const { getAllUsers } = require(\"../../services/users/getAllUsers\");\nconst { getUser } = require(\"../../services/users/getUser\");\nconst { createUser } = require(\"../../services/users/createUser\");\nconst { getAllFollowing } = require(\"../../services/followers/getAllFollowing\");\nconst { getAllFollowers } = require(\"../../services/followers/getAllFollowers\");\n\nmodule.exports = {\n  Query: {\n    getAllUsers: () => getAllUsers(),\n    getUser: (_, { id }) => getUser(id)\n  },\n  User: {\n    following: (root) => getAllFollowing(root),\n    followers: (root) => getAllFollowers(root)\n  },\n  Mutation: {\n    createUser: async (_, args) => createUser(args)\n  }\n}\n","const { mergeTypeDefs } = require(\"@graphql-tools/merge\");\nconst launches = require(\"./launches\");\nconst rockets = require(\"./rockets\");\nconst users = require(\"./users\");\n\nconst typeDefs = [launches, rockets, users];\n\nmodule.exports = mergeTypeDefs(typeDefs, { all: true });","const { gql } = require(\"apollo-server-lambda\");\n\nconst typeDefs = gql`\n  type Launch {\n    id: ID!\n    mission: String!\n    year: String!\n    date: String!\n    success: Boolean\n    rocket: Rocket!\n  }\n  type Query {\n    getAllLaunches: [Launch]!\n    getLaunch(id: ID!): Launch!\n  }\n`;\n\nmodule.exports = typeDefs;\n","const { gql } = require(\"apollo-server-lambda\");\n\nconst typeDefs = gql`\n  type Rocket {\n    id: ID!\n    name: String!\n    type: String!\n  }\n  type Query {\n    getAllRockets: [Rocket]!\n    getRocket(id: ID!): Rocket!\n  }\n`;\n\nmodule.exports = typeDefs;\n","const { gql } = require(\"apollo-server-lambda\");\n\nconst typeDefs = gql`\n  type User {\n    id: ID!\n    name: String!\n    email: String!\n    gender: Gender\n    following: [User]!\n    followers: [User]!\n  }\n\n  enum Gender {\n    male\n    female\n  }\n\n  type Query {\n    getAllUsers: [User!]!\n    getUser(id: ID!): User!\n    following: [User]!\n    followers: [User]!\n  }\n\n  type Mutation {\n    createUser(name: String!, email: String!, gender: Gender): User!\n  }\n`;\n\nmodule.exports = typeDefs;\n","module.exports = require(\"@graphql-tools/merge\");","module.exports = require(\"@hapi/joi\");","module.exports = require(\"apollo-server-lambda\");","module.exports = require(\"aws-sdk\");","module.exports = require(\"axios\");","module.exports = require(\"uuidv4\");"],"sourceRoot":""}